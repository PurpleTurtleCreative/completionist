{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/components/AutomationDetailsForm.js","webpack:///./src/components/AutomationRow.js","webpack:///./src/components/AutomationsListing.js","webpack:///./src/components/PTCCompletionist_Automations.js","webpack:///./src/components/PostSearchSelectInput.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["Component","wp","element","AutomationDetailsForm","props","state","automation","saveButtonLabel","ID","isSubmitting","title","description","hook_name","last_modified","conditions","actions","handleAutomationChange","bind","handleConditionChange","handleAddCondition","handleRemoveCondition","handleActionChange","handleActionMetaChange","handleAddAction","handleRemoveAction","setState","data","window","ptc_completionist_automations","nonce","jQuery","post","ajaxurl","res","status","code","goToAutomation","message","alert","fail","property_key","value","index","property","comparison_method","field_comparison_methods","filter","_","i","action","meta","getDefaultActionMeta","meta_key","meta_value","triggered_count","last_triggered","task_author","Object","keys","connected_workspace_users","saveAutomation","AutomationInfoInputs","e","changeTitle","target","changeDescription","AutomationEventInput","optionsObj","map","key","userEventOptions","createSelectOptions","event_user_options","postEventOptions","event_post_options","changeEvent","AutomationConditionsInputs","loadPropertyOptions","loadComparisonMethodOptions","loadConditionFieldsets","includes","event","propertyOptions","field_user_options","field_post_options","comparisonMethodOptions","conditionFieldsets","condition","valueInput","changeCondition","removeCondition","addCondition","AutomationActionsInputs","loadActionMetaInputs","loadActionFieldsets","name","changeActionMeta","assignee","workspace_users","due_on","project","workspace_projects","notes","post_id","actionOptions","action_options","actionFieldsets","changeAction","removeAction","addAction","AutomationRow","isDeleting","deleteAutomation","length","__html","total_conditions","total_actions","total_triggered","AutomationsListing","automations","orderBy","prevProps","automationRows","PTCCompletionist_Automations","isLoading","automationId","queryParams","URLSearchParams","location","search","set","history","pushState","toString","document","isNaN","parseInt","delete","console","error","docTitle","callback","log","automationParam","get","addEventListener","PostSearchSelectInput","currentRequest","textInputHasFocus","options","currentValue","currentLabel","initialValue","initialLabel","handleSearchChange","handleOptionChange","handleSearchBlur","input","trim","post_search_request","jqXHR","exception","abort","label","onSelectOption","post_title","prevState","selectList","selectOptions","id","render","$","rootNode","getElementById"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","import { PostSearchSelectInput } from './PostSearchSelectInput.js';\n\nconst { Component } = wp.element;\n\nexport class AutomationDetailsForm extends Component {\n\n  constructor(props) {\n\n    /*\n    Required Props:\n    - (function) goToAutomation\n    Optional Props:\n    - (object) automation\n    */\n\n    super(props);\n\n    if ( 'automation' in props ) {\n      this.state = props.automation;\n      this.state.saveButtonLabel = 'Create';\n      if ( 'ID' in props.automation && props.automation.ID > 0 ) {\n        this.state.saveButtonLabel = 'Update';\n      }\n      this.state.isSubmitting = false;\n    } else {\n      this.state = {\n        ID: 0,\n        title: '',\n        description: '',\n        hook_name: '',\n        last_modified: '',\n        conditions: [],\n        actions: [],\n        saveButtonLabel: 'Create',\n        isSubmitting: false\n      };\n    }\n\n    this.handleAutomationChange = this.handleAutomationChange.bind(this);\n\n    this.handleConditionChange = this.handleConditionChange.bind(this);\n    this.handleAddCondition = this.handleAddCondition.bind(this);\n    this.handleRemoveCondition = this.handleRemoveCondition.bind(this);\n\n    this.handleActionChange = this.handleActionChange.bind(this);\n    this.handleActionMetaChange = this.handleActionMetaChange.bind(this);\n    this.handleAddAction = this.handleAddAction.bind(this);\n    this.handleRemoveAction = this.handleRemoveAction.bind(this);\n\n  }//end constructor()\n\n  /* HANDLERS */\n\n  saveAutomation() {\n    if ( ! this.state.isSubmitting ) {\n\n      // TODO: validate data for submission\n\n      this.setState({ isSubmitting: true }, () => {\n\n        let data = {\n          'action': 'ptc_save_automation',\n          'nonce': window.ptc_completionist_automations.nonce,\n          'automation': this.state\n        };\n\n        window.jQuery.post(window.ajaxurl, data, (res) => {\n\n          if (\n            res.status\n            && res.status == 'success'\n            && res.code\n            && res.data\n            && typeof res.data == 'object'\n            && 'ID' in res.data\n            && res.data.ID\n            && res.data.ID > 0\n          ) {\n            if ( res.code == 201 ) {\n//               console.log( res.message );\n              this.props.goToAutomation( res.data.ID );\n            } else if ( res.code == 200 ) {\n              // TODO: display success message in notice section\n//               console.log( res.message );\n              this.setState({\n                ...res.data,\n                isSubmitting: false\n              });\n            }\n          } else {\n            // TODO: display error messages in notice section\n            if ( res.message && res.code ) {\n              alert( 'Error ' + res.code + '. The automation could not be saved. ' + res.message);\n            } else {\n              alert( 'Error 409. The automation could not be saved.' );\n            }\n            this.setState({ isSubmitting: false });\n          }\n\n        }, 'json')\n          .fail(() => {\n            alert( 'Error 500. The automation could not be saved.' );\n            this.setState({ isSubmitting: false });\n          });\n\n      });\n    }\n  }//end saveAutomation()\n\n  /** Core Info **/\n\n  handleAutomationChange(property_key, value) {\n    this.setState((state) => ({\n      [ property_key ]: value\n    }));\n  }\n\n  /** Conditions **/\n\n  handleConditionChange(index, property_key, value) {\n    this.setState((state) => {\n      let conditions = [...state.conditions];\n      conditions[ index ] = {\n        ...state.conditions[ index ],\n        [ property_key ]: value\n      };\n      return { conditions: conditions };\n    });\n  }\n\n  handleAddCondition() {\n    this.setState((state) => ({\n      conditions: [\n        ...state.conditions,\n        {\n          ID: 0,\n          property: '',\n          comparison_method: window.ptc_completionist_automations.field_comparison_methods[0],\n          value: ''\n        }\n      ]\n    }));\n  }\n\n  handleRemoveCondition(index) {\n    this.setState((state) => ({\n      conditions: state.conditions.filter((_, i) => i !== index)\n    }));\n  }\n\n  /** Actions **/\n\n  handleActionChange(index, action) {\n    this.setState((state) => {\n      let actions = [...state.actions];\n      actions[ index ] = {\n        ...state.actions[ index ],\n        action: action,\n        meta: this.getDefaultActionMeta(action)\n      };\n      return { actions: actions };\n    });\n  }\n\n  handleActionMetaChange(index, meta_key, meta_value) {\n    this.setState((state) => {\n      let actions = [...state.actions];\n      actions[ index ] = {\n        ...state.actions[ index ],\n        meta: {\n          ...state.actions[ index ].meta,\n          [ meta_key ]: meta_value\n        }\n      };\n      return { actions: actions };\n    });\n  }\n\n  handleAddAction() {\n    this.setState((state) => ({\n      actions: [\n        ...state.actions,\n        {\n          ID: 0,\n          action: 'create_task',\n          triggered_count: 0,\n          last_triggered: '',\n          meta: this.getDefaultActionMeta('create_task')\n        }\n      ]\n    }));\n  }\n\n  handleRemoveAction(index) {\n    this.setState((state) => ({\n      actions: state.actions.filter((_, i) => i !== index)\n    }));\n  }\n\n  /* END HANDLERS */\n\n  getDefaultActionMeta(action) {\n    switch(action) {\n      case 'create_task':\n        return {\n          task_author: Object.keys( window.ptc_completionist_automations.connected_workspace_users )[0]\n        };\n        break;\n      default:\n        return {};\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"ptc-completionist-automation-details-form\">\n        <AutomationInfoInputs\n          title={this.state.title}\n          changeTitle={(value) => this.handleAutomationChange('title', value)}\n          description={this.state.description}\n          changeDescription={(value) => this.handleAutomationChange('description', value)}\n        />\n        <AutomationEventInput\n          hook_name={this.state.hook_name}\n          changeEvent={(value) => this.handleAutomationChange('hook_name', value)}\n        />\n        <AutomationConditionsInputs\n          event={this.state.hook_name}\n          conditions={this.state.conditions}\n          changeCondition={this.handleConditionChange}\n          addCondition={this.handleAddCondition}\n          removeCondition={this.handleRemoveCondition}\n        />\n        <AutomationActionsInputs\n          event={this.state.hook_name}\n          actions={this.state.actions}\n          changeAction={this.handleActionChange}\n          addAction={this.handleAddAction}\n          removeAction={this.handleRemoveAction}\n          changeActionMeta={this.handleActionMetaChange}\n        />\n        { this.state.isSubmitting ?\n          <button className='save-automation' onClick={() => this.saveAutomation()} disabled='disabled'><i className=\"fas fa-spinner fa-pulse\"></i> Saving...</button>\n          :\n          <button className='save-automation' onClick={() => this.saveAutomation()}><i className=\"fas fa-save\"></i> {this.state.saveButtonLabel}</button>\n        }\n      </div>\n    );\n  }//end render()\n\n}//end class AutomationsListing\n\nclass AutomationInfoInputs extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"automation-info\">\n        <div className='form-group'>\n          <label for='automation-title'>Title</label>\n          <input id='automation-title' type=\"text\" value={this.props.title} onChange={(e) => this.props.changeTitle(e.target.value)} />\n        </div>\n        <div className='form-group'>\n          <label for='automation-description'>Description</label>\n          <textarea id='automation-description' value={this.props.description} onChange={(e) => this.props.changeDescription(e.target.value)} />\n        </div>\n      </div>\n    );\n  }\n\n}//end class AutomationInfoInputs\n\nclass AutomationEventInput extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  createSelectOptions( optionsObj ) {\n    return Object.keys( optionsObj ).map((key) => (\n      <option value={key} key={key}>{optionsObj[key]}</option>\n    ));\n  }//end createSelectOptions()\n\n  render() {\n    const userEventOptions = this.createSelectOptions( window.ptc_completionist_automations.event_user_options );\n    const postEventOptions = this.createSelectOptions( window.ptc_completionist_automations.event_post_options );\n    return (\n      <div className=\"automation-event\">\n        <h2><span className=\"automation-step-number\">1</span> Trigger Event</h2>\n        <select value={this.props.hook_name} onChange={(e) => this.props.changeEvent(e.target.value)}>\n          <option value=\"\">(Choose Event)</option>\n          <optgroup label=\"User Events\">\n            {userEventOptions}\n          </optgroup>\n          <optgroup label=\"Post Events\">\n            {postEventOptions}\n          </optgroup>\n        </select>\n      </div>\n    );\n  }\n\n}//end class AutomationEventInput\n\nclass AutomationConditionsInputs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.loadPropertyOptions = this.loadPropertyOptions.bind(this);\n    this.loadComparisonMethodOptions = this.loadComparisonMethodOptions.bind(this);\n    this.loadConditionFieldsets = this.loadConditionFieldsets.bind(this);\n  }//end constructor()\n\n  createSelectOptions( optionsObj ) {\n    return Object.keys( optionsObj ).map((key) => (\n      <option value={key} key={key}>{optionsObj[key]}</option>\n    ));\n  }//end createSelectOptions()\n\n  loadPropertyOptions() {\n    if ( Object.keys( window.ptc_completionist_automations.event_user_options ).includes( this.props.event ) ) {\n      this.propertyOptions = this.createSelectOptions( window.ptc_completionist_automations.field_user_options );\n    } else if ( Object.keys( window.ptc_completionist_automations.event_post_options ).includes( this.props.event ) ) {\n      this.propertyOptions = this.createSelectOptions( window.ptc_completionist_automations.field_post_options );\n    } else {\n      this.propertyOptions = <option>(Choose Event)</option>;\n    }\n  }//end loadPropertyOptions()\n\n  loadComparisonMethodOptions() {\n    this.comparisonMethodOptions = window.ptc_completionist_automations.field_comparison_methods.map((value) => (\n      <option value={value} key={value}>{value}</option>\n    ));\n  }//end loadComparisonMethodOptions()\n\n  loadConditionFieldsets() {\n    this.conditionFieldsets = this.props.conditions.map((condition, index) => {\n      let valueInput = null;\n      if ( condition.comparison_method !== 'is empty' && condition.comparison_method !== 'is filled' ) {\n        valueInput = <input type=\"text\" value={condition.value} key={index} onChange={(e) => this.props.changeCondition(index, 'value', e.target.value)} />;\n      }\n      return (\n        <fieldset className=\"automation-condition\" key={index}>\n          <legend>Condition</legend>\n          <div className='form-group'>\n            <select value={condition.property} key={index} onChange={(e) => this.props.changeCondition(index, 'property', e.target.value)}>\n              {this.propertyOptions}\n            </select>\n            <select value={condition.comparison_method} key={index} onChange={(e) => this.props.changeCondition(index, 'comparison_method', e.target.value)}>\n              {this.comparisonMethodOptions}\n            </select>\n            {valueInput}\n            <button className='remove-item' title='Remove Condition' onClick={() => this.props.removeCondition(index)}><i className=\"fas fa-minus\"></i> Delete</button>\n          </div>\n        </fieldset>\n      );\n    });\n  }//end loadConditionFieldsets()\n\n  render() {\n\n    // TODO: Do not show add button until an event is set\n\n    this.loadPropertyOptions();\n    this.loadComparisonMethodOptions();\n    this.loadConditionFieldsets();\n\n    return (\n      <div className=\"automation-conditions-list\">\n        <h2><span className=\"automation-step-number\">2</span> Conditions</h2>\n        {this.conditionFieldsets}\n        <button className='add-item' onClick={this.props.addCondition}><i className=\"fas fa-plus\"></i> Add Condition</button>\n      </div>\n    );\n  }//end render()\n\n}//end class AutomationConditionsInputs\n\nclass AutomationActionsInputs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.loadActionMetaInputs = this.loadActionMetaInputs.bind(this);\n    this.loadActionFieldsets = this.loadActionFieldsets.bind(this);\n  }\n\n  createSelectOptions( optionsObj ) {\n    return Object.keys( optionsObj ).map((key) => (\n      <option value={key} key={key}>{optionsObj[key]}</option>\n    ));\n  }//end createSelectOptions()\n\n  loadActionMetaInputs(action, index) {\n    // TODO: Allow create_tasks to be dynamically pinned to created/updated/delete post if relevent: {post.ID}\n    switch(action.action) {\n      case 'create_task':\n        return (\n          <div className=\"action-meta_create_task\">\n\n            <input\n              id={\"ptc-new-task_name_\"+index}\n              type=\"text\"\n              placeholder=\"Write a task name...\"\n              value={action.meta.name}\n              onChange={(e) => this.props.changeActionMeta(index, 'name', e.target.value)}\n            />\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_task_author_\"+index}>Creator</label>\n              <select id={\"ptc-new-task_task_author_\"+index} value={action.meta.task_author} onChange={(e) => this.props.changeActionMeta(index, 'task_author', e.target.value)}>\n                {this.createSelectOptions(window.ptc_completionist_automations.connected_workspace_users)}\n              </select>\n            </div>\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_assignee_\"+index}>Assignee</label>\n              <select id={\"ptc-new-task_assignee_\"+index} value={action.meta.assignee} onChange={(e) => this.props.changeActionMeta(index, 'assignee', e.target.value)}>\n                <option value=\"\">None (Unassigned)</option>\n                {this.createSelectOptions(window.ptc_completionist_automations.workspace_users)}\n              </select>\n            </div>\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_due_on_\"+index}>Due Date</label>\n              <input id={\"ptc-new-task_due_on_\"+index} type=\"date\" pattern=\"\\d\\d\\d\\d-\\d\\d-\\d\\d\" placeholder=\"yyyy-mm-dd\" value={action.meta.due_on} onChange={(e) => this.props.changeActionMeta(index, 'due_on', e.target.value)} />\n            </div>\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_project_\"+index}>Project</label>\n              <select id={\"ptc-new-task_project_\"+index} value={action.meta.project} onChange={(e) => this.props.changeActionMeta(index, 'project', e.target.value)}>\n                <option value=\"\">None (Private Task)</option>\n                {this.createSelectOptions(window.ptc_completionist_automations.workspace_projects)}\n              </select>\n            </div>\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_notes_\"+index}>Description</label>\n              <textarea id={\"ptc-new-task_notes_\"+index} value={action.meta.notes} onChange={(e) => this.props.changeActionMeta(index, 'notes', e.target.value)} />\n            </div>\n\n            <div className='form-group'>\n              <label for={\"ptc-new-task_post_id_\"+index}>Pin to Post</label>\n              <PostSearchSelectInput\n                id={\"ptc-new-task_post_id_\"+index}\n                initialValue={action.meta.post_id}\n                onSelectOption={(value) => this.props.changeActionMeta(index, 'post_id', value)}\n              />\n            </div>\n\n          </div>\n        );\n        break;\n      default:\n        return (\n          <div className=\"automation-meta-default\">\n            <p><em>Choose an action to see additional options.</em></p>\n          </div>\n        );\n    }\n  }\n\n  loadActionFieldsets() {\n    let actionOptions = this.createSelectOptions( window.ptc_completionist_automations.action_options );\n    this.actionFieldsets = this.props.actions.map((action, index) => (\n      <fieldset className=\"automation-action\" key={index}>\n        <legend>Action</legend>\n        <div className='form-group'>\n          <select value={action.action} onChange={(e) => this.props.changeAction(index, e.target.value)} key={index}>\n            {actionOptions}\n          </select>\n          <div>\n            <button className='remove-item' title='Remove Action' onClick={() => this.props.removeAction(index)}><i className=\"fas fa-minus\"></i> Delete</button>\n          </div>\n        </div>\n        {this.loadActionMetaInputs(action, index)}\n      </fieldset>\n    ));\n  }//end loadActionFieldsets()\n\n  render() {\n\n    // TODO: Do not show add button until an event is set\n    // TODO: Add list of available merge fields based on selected event, similar to Awesome Support email templates\n\n    this.loadActionFieldsets();\n\n    return (\n      <div className=\"automation-actions-list\">\n        <h2><span className=\"automation-step-number\">3</span> Actions</h2>\n        {this.actionFieldsets}\n        <button className='add-item' onClick={this.props.addAction}><i className=\"fas fa-plus\"></i> Add Action</button>\n      </div>\n    );\n  }//end render()\n\n}//end class AutomationActionsInputs","const { Component } = wp.element;\n\nexport class AutomationRow extends Component {\n\n  constructor(props) {\n\n    /*\n    Required Props:\n    - (object) automation\n    - (function) goToAutomation\n    - (function) deleteAutomation\n    */\n\n    super(props);\n    this.state = {\n      ...props.automation,\n      isDeleting: false\n    };\n\n    this.goToAutomation = props.goToAutomation;\n\n    this.deleteAutomation = this.deleteAutomation.bind(this);\n\n  }//end constructor()\n\n  deleteAutomation() {\n    this.setState({ isDeleting: true }, () => {\n      this.props.deleteAutomation(this.state.ID, () => {\n        this.setState({ isDeleting: false });\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className='ptc-completionist-automation-row'>\n        <header>\n          <h2 title={'Automation ID: '+this.state.ID} onClick={() => this.goToAutomation(this.state.ID)}>{this.state.title}</h2>\n          <p className='last-modified'><em>Updated {this.state.last_modified}</em></p>\n          { this.state.description.length > 0 &&\n            <p className='description' dangerouslySetInnerHTML={{__html: this.state.description}} />\n          }\n          <div className='automation-actions'>\n            <button className='edit' onClick={() => this.goToAutomation(this.state.ID)}><i className='fas fa-pen'></i> Edit</button>\n            <button className='delete' onClick={this.deleteAutomation} disabled={this.state.isDeleting}><i className='fas fa-trash'></i> Delete</button>\n          </div>\n        </header>\n        <ul>\n          <li title={this.state.total_conditions + ' Conditions'}>{this.state.total_conditions}</li>\n          <li title={this.state.total_actions + ' Actions'}>{this.state.total_actions}</li>\n          <li title={'Triggered ' + this.state.total_triggered + ' times'}>{this.state.total_triggered}</li>\n          <li title={'Last Triggered ' + this.state.last_triggered}>{this.state.last_triggered}</li>\n        </ul>\n      </div>\n    );\n  }//end render()\n\n}//end class AutomationsListing","import { AutomationRow } from './AutomationRow.js';\n\nconst { Component } = wp.element;\n\nexport class AutomationsListing extends Component {\n\n  constructor(props) {\n\n    /*\n    Required Props:\n    - (object[]) automations\n    - (function) goToAutomation\n    - (function) deleteAutomation\n    */\n\n    super(props);\n    this.state = {\n      automations: props.automations,\n      orderBy: 'title' //'title' or 'ID' or 'last_modified' or 'last_triggered' or 'triggered_count'\n    };\n\n    this.goToAutomation = props.goToAutomation;\n\n  }//end constructor()\n\n  sortAutomationsListing(orderBy = 'title') {}//end sortAutomationsListing()\n\n  componentDidUpdate(prevProps) {\n    if ( this.props.automations !== prevProps.automations ) {\n      this.setState({ automations: this.props.automations });\n    }\n  }\n\n  render() {\n\n    // TODO: Add sorting functionality\n    // TODO: Add default/empty state if no automations exist\n\n    /* List Automations... */\n    const automationRows = this.state.automations.map((automation) =>\n      <AutomationRow\n        key={automation.ID}\n        automation={automation}\n        goToAutomation={this.goToAutomation}\n        deleteAutomation={this.props.deleteAutomation}\n      />\n    );\n    return (\n      <div className='ptc-completionist-automations-listing'>\n        <div className='title'>\n          <h1>Automations</h1>\n          <div className='actions'>\n            <button onClick={() => this.goToAutomation('new')}><i className='fas fa-plus'></i> Add New</button>\n          </div>\n        </div>\n        <header>\n          <div>Automation</div>\n          <div><i className=\"fas fa-question\"></i> Conditions</div>\n          <div><i className=\"fas fa-running\"></i> Actions</div>\n          <div><i className=\"fas fa-bolt\"></i> Triggers</div>\n          <div><i className=\"fas fa-history\"></i> Last Triggered</div>\n        </header>\n        <div className='ptc-completionist-automations-list'>{automationRows}</div>\n      </div>\n    );\n  }\n\n}//end class AutomationsListing","import { AutomationsListing } from './AutomationsListing.js';\nimport { AutomationDetailsForm } from './AutomationDetailsForm.js';\n\nconst { Component } = wp.element;\n\nexport class PTCCompletionist_Automations extends Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      automations: window.ptc_completionist_automations.automations,\n      isLoading: false\n    };\n\n    this.goToAutomation = this.goToAutomation.bind(this);\n    this.deleteAutomation = this.deleteAutomation.bind(this);\n\n  }//end constructor()\n\n  goToAutomation( automationId = 0 ) {\n\n    this.setState({ isLoading: true }, () => {\n      if ( automationId === 'new' ) {\n\n        let queryParams = new URLSearchParams( location.search );\n        queryParams.set( 'automation', automationId );\n        history.pushState(\n          { ID: 'new' },\n          'Completionist – Add New Automation',\n          '?' + queryParams.toString()\n        );\n        document.title = 'Completionist – Add New Automation';\n        this.setState({ isLoading: false });\n\n      } else if ( isNaN( parseInt( automationId ) ) || automationId <= 0 ) {\n\n        let data = {\n          'action': 'ptc_get_automation_overviews',\n          'nonce': window.ptc_completionist_automations.nonce,\n        };\n\n        window.jQuery.post(window.ajaxurl, data, (res) => {\n\n          if ( res.status == 'success' && typeof res.data == 'object' ) {\n            let queryParams = new URLSearchParams( location.search );\n            queryParams.delete('automation');\n            history.pushState(\n              { ID: 0 },\n              'Completionist – Automations',\n              '?' + queryParams.toString()\n            );\n            document.title = 'Completionist – Automations';\n            this.setState({\n              automations: res.data,\n              isLoading: false\n            });\n          } else {\n            // TODO: Fix infinite requests when error\n            console.error( res );\n            this.setState({ isLoading: false });\n          }\n\n        }, 'json')\n          .fail(() => {\n            console.error( 'Failed to load automation overviews.' );\n            let queryParams = new URLSearchParams( location.search );\n            queryParams.delete('automation');\n            history.pushState(\n              { ID: 0 },\n              'Completionist – Automations',\n              '?' + queryParams.toString()\n            );\n            document.title = 'Completionist – Automations';\n            this.setState({ isLoading: false });\n          });\n\n      } else {\n\n        let data = {\n          'action': 'ptc_get_automation',\n          'nonce': window.ptc_completionist_automations.nonce,\n          'ID': automationId\n        };\n\n        window.jQuery.post(window.ajaxurl, data, (res) => {\n\n          if ( res.status == 'success' && typeof res.data == 'object' ) {\n            let docTitle = 'Completionist – Automation ' + res.data.ID + ' – ' + res.data.title;\n            let queryParams = new URLSearchParams( location.search );\n            queryParams.set( 'automation', automationId );\n            history.pushState(\n              res.data,\n              docTitle,\n              '?' + queryParams.toString()\n            );\n            document.title = docTitle;\n            this.setState({ isLoading: false });\n          } else {\n            console.error( res );\n            this.goToAutomation();\n          }\n\n        }, 'json')\n          .fail(() => {\n            console.error( 'Failed to get data for automation ' + automationId );\n            this.goToAutomation();\n          });\n      }\n    });\n  };//end goToAutomation()\n\n  deleteAutomation( automationId, callback ) {\n\n    let data = {\n      'action': 'ptc_delete_automation',\n      'nonce': window.ptc_completionist_automations.nonce,\n      'ID': automationId\n    };\n\n    window.jQuery.post(window.ajaxurl, data, (res) => {\n\n      if (\n        res.status\n        && res.status == 'success'\n        && res.code\n        && res.code == 200\n        && res.data\n      ) {\n        // TODO: display success message in notice section\n        console.log( res.message );\n        this.setState((state) => ({\n          automations: state.automations.filter((automation) => automation.ID !== res.data)\n        }));\n      } else {\n        // TODO: display error messages in notice section\n        if ( res.message && res.code ) {\n          alert( 'Error ' + res.code + '. The automation could not be deleted. ' + res.message);\n        } else {\n          alert( 'Error. The automation could not be deleted.' );\n        }\n      }\n\n      typeof callback === 'function' && callback( res );\n\n    }, 'json')\n      .fail(() => {\n        // TODO: display error messages in notice section\n        alert( 'Error 500. The automation could not be deleted.' );\n        typeof callback === 'function' && callback();\n      });\n\n  }//end deleteAutomation()\n\n  componentDidMount() {\n\n    /* Go to requested automation */\n    let queryParams = new URLSearchParams( location.search );\n    const automationParam = queryParams.get('automation');\n    if ( automationParam !== null ) {\n      this.goToAutomation( automationParam );\n    }\n\n    /* Listen to browser history events */\n    window.addEventListener( 'popstate', (e) => {\n      // TODO: goToAutomation calls pushState which breaks history navigation\n      if ( 'state' in e && e.state && 'ID' in e.state ) {\n        this.goToAutomation( e.state.ID )\n      } else {\n        this.goToAutomation();\n      }\n    });\n\n  }//end componentDidMount()\n\n  render() {\n\n    if ( this.state.isLoading ) {\n      return (\n        <div className='loading-screen'>\n          <p><i className='fas fa-spinner fa-pulse fa-lg'></i> Loading...</p>\n        </div>\n      );\n    }\n\n    let queryParams = new URLSearchParams( location.search );\n    const automationParam = queryParams.get('automation');\n    if ( automationParam === 'new' ) {\n      /* Add Automation... */\n      return (\n        <div className='ptc-completionist-automation-create'>\n          <header>\n            <button onClick={() => this.goToAutomation()}><i className=\"fas fa-angle-left\"></i> Back</button>\n            <h1>New Automation</h1>\n            <div className='spacer'></div>\n          </header>\n          <AutomationDetailsForm goToAutomation={this.goToAutomation} />\n        </div>\n      );\n    }\n\n    if ( history.state && 'ID' in history.state && history.state.ID == automationParam ) {\n      /* Edit Automation... */\n      return (\n        <div className='ptc-completionist-automation-details'>\n          <header>\n            <button onClick={() => this.goToAutomation()}><i className=\"fas fa-angle-left\"></i> Back</button>\n            <h1>Edit Automation {history.state.ID}</h1>\n            <div className='spacer'></div>\n          </header>\n          <AutomationDetailsForm automation={history.state} goToAutomation={this.goToAutomation} />\n        </div>\n      );\n    } else {\n      /* List Automations... */\n      return (\n        <AutomationsListing\n          automations={this.state.automations}\n          goToAutomation={this.goToAutomation}\n          deleteAutomation={this.deleteAutomation}\n        />\n      );\n    }\n  }//end render()\n\n}//end class PTCCompletionist_Automations","const { Component } = wp.element;\n\nexport class PostSearchSelectInput extends Component {\n\n  constructor(props) {\n\n    /*\n    Required Props:\n    - (function) onSelectOption(value)\n    Optional Props:\n    - (string) initialValue\n    - (string) initialLabel\n    */\n\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      currentRequest: {},\n      textInputHasFocus: false,\n      options: [],\n      currentValue: '',\n      currentLabel: ''\n    };\n\n    if ( 'initialValue' in props && props.initialValue ) {\n      this.state.currentValue = props.initialValue;\n    }\n\n    if ( 'initialLabel' in props && props.initialLabel ) {\n      this.state.currentLabel = props.initialLabel;\n    }\n\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleOptionChange = this.handleOptionChange.bind(this);\n    this.createSelectOptions = this.createSelectOptions.bind(this);\n    this.handleSearchBlur = this.handleSearchBlur.bind(this);\n\n  }//end constructor()\n\n  handleSearchChange(input) {\n    if ( input.trim().length >= 3 ) {\n      this.setState({\n        isLoading: true,\n        currentValue: '',\n        currentLabel: input,\n        options: []\n      }, () => {\n\n        let data = {\n          'action': 'ptc_get_post_options_by_title',\n          'nonce': window.ptc_completionist_automations.nonce,\n          'title': this.state.currentLabel,\n        };\n\n        let post_search_request = window.jQuery.post(window.ajaxurl, data, (res) => {\n\n          // TODO: Look at using WP REST API: https://developer.wordpress.org/rest-api/reference/search-results/\n\n          this.setState({\n            isLoading: false,\n            currentRequest: {},\n            options: res.data\n          });\n\n          // TODO: handle error responses\n          // if(res.status == 'success' && res.data != '') {\n          //   remove_task_row(data.task_gid);\n          //   remove_task_gid(data.task_gid, false);\n          // } else if(res.status == 'error' && res.data != '') {\n          //   display_alert_html(res.data);\n          //   disable_element(thisButton, false);\n          //   buttonIcon.removeClass('fa-circle-notch fa-spin').addClass('fa-check');\n          // } else {\n          //   alert('[Completionist] Error '+res.code+': '+res.message);\n          //   disable_element(thisButton, false);\n          //   buttonIcon.removeClass('fa-circle-notch fa-spin').addClass('fa-check');\n          // }\n\n        }, 'json')\n          .fail((jqXHR, exception) => {\n            if ( exception != 'abort' ) {\n              alert('Failed to search for posts by title.');\n              this.setState({\n                isLoading: false,\n                options: []\n              });\n            }\n          });\n\n        this.setState((state) => {\n          if (\n            typeof state.currentRequest === 'object'\n            && typeof state.currentRequest.abort === 'function'\n          ) {\n            this.state.currentRequest.abort();\n          }\n          return {currentRequest: post_search_request};\n        });\n\n      });\n    } else {\n      this.setState({\n        isLoading: false,\n        currentValue: '',\n        currentLabel: input,\n        options: []\n      });\n    }\n  }//end handleSearchChange()\n\n  handleOptionChange(value, label) {\n    this.setState((state) => ({\n      currentValue: value,\n      currentLabel: label\n    }), () => {\n      this.props.onSelectOption(this.state.currentValue);\n    });\n  }//end handleOptionChange()\n\n  handleSearchBlur() {\n    this.setState((state) => ({\n      textInputHasFocus: false,\n      currentLabel: ( state.currentValue === '' ) ? '' : state.currentLabel\n    }));\n  }//end handleSearchBlur()\n\n  createSelectOptions() {\n    if ( this.state.options.length < 1 ) {\n      if ( this.state.isLoading === true ) {\n        return <li><i className=\"fas fa-spinner fa-pulse\"></i> Searching for posts...</li>;\n      } else if ( this.state.currentLabel.trim().length >= 3 ) {\n        return <li>No post results.</li>;\n      } else {\n        return <li>Enter at least 3 characters to search...</li>;\n      }\n    }\n    return this.state.options.map((post) => (\n      <li className='post-option' data-value={post.ID} key={post.ID} onMouseDown={() => this.handleOptionChange(post.ID, post.post_title)}>{post.post_title + ' [' + post.ID + ']'}</li>\n    ));\n  }//end createSelectOptions()\n\n  componentDidMount() {\n    if ( this.state.currentValue.trim() !== '' && this.state.currentLabel.trim() === '' ) {\n      this.setState({ currentLabel: '(Loading...)' }, () => {\n\n        let data = {\n          'action': 'ptc_get_post_title_by_id',\n          'nonce': window.ptc_completionist_automations.nonce,\n          'post_id': this.state.currentValue,\n        };\n\n        window.jQuery.post(window.ajaxurl, data, (res) => {\n          if ( res.status == 'success' && res.data != '' ) {\n            this.setState({ currentLabel: res.data });\n          } else {\n            console.error( 'Failed to load initial PostSearchSelectInput label for initial value.' );\n            console.error( res );\n            this.setState({ currentLabel: '(Error: Failed to load post title)' });\n          }\n        }, 'json')\n          .fail(() => {\n            console.error( 'Failed to load initial PostSearchSelectInput label for initial value.' );\n            this.setState({ currentLabel: '(Error: Failed to load post title)' });\n          });\n\n      });\n    }\n  }//end componentDidMount()\n\n  componentDidUpdate(prevProps, prevState) {\n    if ( this.state.currentValue !== prevState.currentValue ) {\n      this.props.onSelectOption(this.state.currentValue);\n    }\n  }//end componentDidUpdate()\n\n  render() {\n\n    let selectList = null;\n    if ( this.state.textInputHasFocus === true ) {\n      const selectOptions = this.createSelectOptions( this.state.options );\n      selectList = <ul className='select-options'>{selectOptions}</ul>;\n    }\n\n    return (\n      <div className='ptc-ajax-search-select-input'>\n        <input\n          id={this.props.id}\n          type='text'\n          value={this.state.currentLabel}\n          onChange={(e) => this.handleSearchChange(e.target.value)}\n          onFocus={() => this.setState({ textInputHasFocus: true })}\n          onBlur={() => this.handleSearchBlur()}\n        />\n        <input type='hidden' value={this.state.currentValue} />\n        {selectList}\n      </div>\n    );\n  }//end render()\n\n}//end class PostSearchSelectInput","import { PTCCompletionist_Automations } from './components/PTCCompletionist_Automations.js';\n\nconst { render, Component } = wp.element;\n\njQuery(function($) {\n  try {\n    var rootNode = document.getElementById('ptc-completionist-automations-root');\n    if ( rootNode !== null ) {\n      render( <PTCCompletionist_Automations />, rootNode );\n    }//end if rootNode\n  } catch ( e ) {\n    console.error( e );\n  }\n});","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}